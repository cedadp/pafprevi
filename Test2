@echo off
setlocal enabledelayedexpansion

rem Dossier à surveiller
set "folder_to_monitor=C:\chemin\vers\le\dossier"

rem Intervalle de temps en secondes entre les vérifications
set "interval=10"

rem Initialiser le compteur de fichiers
set "file_count=0"

:monitor
rem Compter le nombre de fichiers dans le dossier
set "new_file_count=0"
for /f "delims=" %%i in ('dir /b /a-d "%folder_to_monitor%" 2^>nul ^| find /v /c ""') do set "new_file_count=%%i"

rem Vérifier si le nombre de fichiers a changé
if not "!new_file_count!"=="!file_count!" (
    echo Le nombre de fichiers a changé: !new_file_count!
    set "file_count=!new_file_count!"
)

rem Attendre avant la prochaine vérification
timeout /t %interval% /nobreak >nul

goto monitor
